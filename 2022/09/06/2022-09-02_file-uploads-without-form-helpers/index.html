<p>When uploading files without using the form helper <code class="highlighter-rouge">form.file_field</code>, you have to add the option <code class="highlighter-rouge">multipart: true</code> to the form tag.</p>

<p>Discovered in <a href="https://api.rubyonrails.org/classes/ActionView/Helpers/FormTagHelper.html#method-i-file_field_tag">API Docs</a></p>

<div class="language-erb highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nt">&lt;</span> <span class="err">%=</span> <span class="na">form_with</span><span class="err">(</span><span class="na">model:</span> <span class="err">@</span><span class="na">company</span><span class="err">),</span> <span class="na">multipart:</span> <span class="na">true</span><span class="err">)</span> <span class="na">do</span> <span class="err">|</span><span class="na">form</span><span class="err">|</span> <span class="err">%</span><span class="nt">&gt;</span>

    -- When using:  --
    <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"file"</span> <span class="na">name=</span><span class="s">"company[logo]"</span> <span class="nt">/&gt;</span>
    -- OR --
    <span class="nt">&lt;</span> <span class="err">%=</span> <span class="na">file_field_tag</span> <span class="err">"</span><span class="na">company</span><span class="err">[</span><span class="na">logo</span><span class="err">]"</span> <span class="err">%</span><span class="nt">&gt;</span>

    <span class="nt">&lt;</span> <span class="err">%=</span> <span class="na">form.submit</span> <span class="err">%</span><span class="nt">&gt;</span>
  <span class="nt">&lt;</span> <span class="err">%</span> <span class="na">end</span> <span class="err">%</span><span class="nt">&gt;</span>
</code></pre></div></div>
